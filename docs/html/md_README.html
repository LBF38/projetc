<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Projet C: Projet de C : Annuaire et tri de données</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Projet C
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Projet de C : Annuaire et tri de données </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md6"></a>
Introduction</h1>
<p>L'objectif du projet cette année est de mettre en place un gestionnaire de données du type <code>Prénom, Nom, Code Postal;</code>. La première partie définit une structure données qui n'est autre qu'une liste chaînée dans laquelle ces informations seront stockées. La deuxième partie se concentre sur la lecture des données depuis un fichier et de structuration intelligente au chargement. La troisième partie utilise une structure de données plus optimisée, une liste chaînée de listes chaînées.</p>
<p>Un squelette du projet vous est proposé et contient :</p>
<ul>
<li>une structure de projet C à respecter avec son <code>makefile</code> dédié</li>
<li><code>list.h</code>, le header contenant la première structure ainsi que les signatures des fonctions à créer</li>
<li><code>list.c</code>, le fichier à compléter avec vos fonctions</li>
<li><code>llist.c</code> et <code>llist.h</code> les équivalents pour la structure optimisée</li>
<li><code>main.c</code>, le fichier qui permet de s'interfacer avec vos fonctions (et d'y écrire vos tests !)</li>
<li><code>data</code>, le dossier dans lequel plusieurs bases de données vous sont proposées, à noter que nous testerons votre projet avec des bases de données différentes mais équivalentes</li>
</ul>
<h1><a class="anchor" id="autotoc_md7"></a>
Première partie : Structure de données</h1>
<p>Les structure de données <code>list</code> et <code>cell</code> vous sont données et permettent de définir une liste chaînées de personnes à partir de leurs informations : nom, prénom et code postal (ou <code>fname</code>, <code>lname</code> et <code>zip</code>). Un exemple d'utilisation de ces structures de données vous est illustré sur la figure ci-dessous.</p>
<p><img src="list.png" alt="" width="300" class="inline"/> </p>
<ol type="1">
<li>Écrire une fonction <code>make_cell</code> qui crée une cellule à partir des informations de ses champs.</li>
<li>Écrire une fonction <code>push</code> qui ajoute une cellule dont on donne le pointeur en tête de liste.</li>
<li>Écrire une fonction <code>print_cell</code> capable d'afficher le contenu d'une cellule sous la forme <code>[prénom, nom, code postal]</code>.</li>
<li><p class="startli">Écrire une fonction <code>print_list</code> capable d'afficher le contenu d'une liste sous la forme</p>
<p class="startli">```c { [prénom 1, nom 1, code postal 1], [prénom 2, ...], ... } ```</p>
</li>
<li>Écrire une fonction <code>pop</code> dont la signature vous est donnée qui enlève la cellule en tête de liste et renvoie le pointeur vers sa valeur. La tester à l'aide des fonctions d'affichage dédiées.</li>
</ol>
<h1><a class="anchor" id="autotoc_md8"></a>
Deuxième partie : Lecture de données</h1>
<p>Il faut maintenant lire les données depuis un fichier et les ajouter dynamiquement dans votre structure. Les fichiers présents dans le répertoire <code>data</code> peuvent vous servir de tests pour vos fonctions. Trois fichiers de taille différente vous sont proposés contenant respectivement 100, 30000 et 100000 entrées.</p>
<ol type="1">
<li>Écrire une fonction <code>make_cell_from_line</code> qui crée une cellule à partir d'une ligne de données.</li>
<li>Écrire une fonction <code>load_file</code> qui ajoute toutes les données d'un fichier dans votre liste.</li>
<li>Écrire une fonction <code>compare_cells</code> qui compare deux cellules selon leur nom de famille (puis prénom si égaux) par ordre alphabétique.</li>
<li>Écrire une fonction <code>insert</code> qui ajoute une nouvelle donnée au bon endroit (selon l'ordre défini ci-dessus) dans la structure de données. Modifier votre fonction <code>load_file</code> pour utiliser cette nouvelle fonctionnalité.</li>
<li>Afficher la liste chargée et vérifier qu'elle est correctement triée.</li>
</ol>
<blockquote class="doxtable">
<p><em><b>Note:</b></em> les fonctions de la librairie <code>string.h</code> vous seront utiles.* </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md9"></a>
Troisième partie : Structure de données optimisée</h1>
<p>Pour éviter de devoir traverser toutes les entrées en cas d'ajout d'une nouvelle, nous décidons de rajouter la première lettre de chaque nom comme caractère discriminant. Nous allons maintenant utiliser une liste chaînée de liste chaînées, la première représentant les premières lettres des noms de famille, pour accélérer l'accès aux données et l'ajout d'une nouvelle donnée. Un exemple d'utilisation est présentée sur la figure ci-dessous.</p>
<p><img src="llist.png" alt="" width="700" class="inline"/> </p>
<ol type="1">
<li>Définir votre structure et votre nouveau type de cellule.</li>
<li>Définir les fonctions associées à votre nouveau type de données (les équivalents de <code>make_cell</code>, <code>compare_cells</code>, <code>insert</code> et <code>load_file</code> ainsi que les fonctions de construction et destruction).</li>
<li>En utilisant les fichiers les plus volumineux, mesurer le temps de création total des deux structures de données. Mesurer les différences de temps sur les différents fichiers fournis (si possible !).</li>
</ol>
<blockquote class="doxtable">
<p><em><b>Note:</b></em> La bibliothèque <code>time.h</code> vous sera utile. </p>
</blockquote>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
